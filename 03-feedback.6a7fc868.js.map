{"mappings":"YAAA,aAEA,IA0BAA,EAAe,CACbC,KA3BW,SAACC,EAAKC,GACjB,IACE,IAAMC,EAAkBC,KAAKC,UAAUH,GACvCI,aAAaC,QAAQN,EAAKE,GAC1B,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,WAuB3CC,KAnBW,SAAAV,GACX,IACE,IAAME,EAAkBG,aAAaM,QAAQX,GAC7C,OAA2B,OAApBE,OAA2BU,EAAYT,KAAKU,MAAMX,GACzD,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,WAe3CK,OAXa,SAAAd,GACb,IACEK,aAAaU,WAAWf,GACxB,MAAOO,GACPC,QAAQQ,IAAI,sBAAuBT,EAAME,YCrBvCQ,EAAiC,sBACjCC,EAAgBC,SAASC,cAAc,kBAEvCC,EAAW,GAEjBb,QAAQQ,IAAIlB,IAaY,WACtB,IAAMwB,EAAWxB,EAAoBY,KAAKO,GAI1C,IAAK,IAAMjB,KAFXQ,QAAQe,IAAIL,EAAcM,UAERF,EAChBJ,EAAcM,SAASxB,GAAKC,MAAQqB,EAAStB,GAoBjDyB,GAEAP,EAAcQ,iBAAiB,QAASC,UAvCf,SAAAC,GACvB,IAAMC,EAAaD,EAAXC,OAEFC,EAAoBD,EAAOE,KAC3BC,EAAqBH,EAAO5B,MAElCoB,EAASS,GAAqBE,EAE9BlC,EAAoBC,KAAKkB,EAAgCI,KA+BQ,MACnEH,EAAcQ,iBAAiB,UAhBC,SAAAE,GAM9B,IAAK,IAAM5B,KALX4B,EAAEK,iBAGFnC,EAAoBgB,OAAOG,GAC3BW,EAAEM,cAAcC,QACEd,SACTA,EAASrB,GAGlBQ,QAAQQ,IAAIK,M","sources":["src/js/localstorage.js","src/js/03-feedback.js"],"sourcesContent":["'use strict';\n\nconst save = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  }\n};\n\nconst load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n\nconst remove = key => {\n  try {\n    localStorage.removeItem(key);\n  } catch (error) {\n    console.log('Remove item error: ', error.message);\n  }\n};\n\nexport default {\n  save,\n  load,\n  remove,\n};\n","'use strict';\n\nimport localStorageService from './localstorage';\nconst CONTACT_FORM_LOCAL_STORAGE_KEY = 'feedback-form-state';\nconst contactFormEl = document.querySelector('.feedback-form');\n\nconst dataForm = {};\n\nconsole.log(localStorageService);\n\nconst handleFormChange = e => {\n  const { target } = e;\n\n  const elementTargetName = target.name;\n  const elementTargetValue = target.value;\n\n  dataForm[elementTargetName] = elementTargetValue;\n\n  localStorageService.save(CONTACT_FORM_LOCAL_STORAGE_KEY, dataForm);\n};\n\nconst fillContactForm = () => {\n  const formData = localStorageService.load(CONTACT_FORM_LOCAL_STORAGE_KEY);\n\n  console.dir(contactFormEl.elements);\n\n  for (const key in formData) {\n    contactFormEl.elements[key].value = formData[key];\n    /* const inputEl = contactFormEl.elements[key];\n    const inputValue = formData[key];\n    inputEl.value = inputValue; */\n  }\n};\n\nconst handleContactFormSybmit = e => {\n  e.preventDefault();\n\n  //   localStorage.removeItem(CONTACT_FORM_LOCAL_STORAGE_KEY);\n  localStorageService.remove(CONTACT_FORM_LOCAL_STORAGE_KEY);\n  e.currentTarget.reset();\n  for (const key in dataForm) {\n    delete dataForm[key];\n  }\n\n  console.log(dataForm);\n};\n\nfillContactForm();\n\ncontactFormEl.addEventListener('input', throttle(handleFormChange, 500));\ncontactFormEl.addEventListener('submit', handleContactFormSybmit);\n"],"names":["$50116558f77987dc$export$2e2bcd8739ae039","save","key","value","serializedState","JSON","stringify","localStorage","setItem","error","console","message","load","getItem","undefined","parse","remove","removeItem","log","$b00c40859be242c5$var$CONTACT_FORM_LOCAL_STORAGE_KEY","$b00c40859be242c5$var$contactFormEl","document","querySelector","$b00c40859be242c5$var$dataForm","formData","dir","elements","$b00c40859be242c5$var$fillContactForm","addEventListener","throttle","e","target","elementTargetName","name","elementTargetValue","preventDefault","currentTarget","reset"],"version":3,"file":"03-feedback.6a7fc868.js.map"}